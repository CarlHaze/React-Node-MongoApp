(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}(()=>{const{response:e}=s(860),t=s(860),{MongoClient:n}=s(13);let r;const o=t();o.set("view engine","ejs"),o.set("views","./views"),o.use(t.static("public")),o.get("/",(async(e,t)=>{const s=await r.collection("animals").find().toArray();t.render("home",{allAnimals:s})})),o.use((function(e,t,s){t.set("WWW-Authenticate","Basic realm='MERN Pet App'"),"Basic YWRtaW46YWRtaW4="==e.headers.authorization?s():(console.log(e.headers.authorization),t.status(401).send("Try Again"))})),o.get("/admin",((e,t)=>{t.render("admin")})),o.get("/api/animals",(async(e,t)=>{const s=await r.collection("animals").find().toArray();t.json(s)})),async function(){const e=new n("mongodb+srv://Carl_Ellis:mongodbtest@cluster0.j16jrhy.mongodb.net/MERN_App_DB?retryWrites=true&w=majority");await e.connect(),r=e.db(),o.listen(3e3)}()})()})();